---
interface Props {
  title: string;
  description: string;
  url: string;
  date: Date;
  tags?: string[];
}

const { title, description, url, date, tags = [] } = Astro.props;

const pageTitle = `${title} â€” Prompts & Skills`;
const isoDate = date.toISOString();

const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'Article',
  headline: title,
  description,
  datePublished: isoDate,
  author: {
    '@type': 'Organization',
    name: 'Prompts & Skills',
  },
  publisher: {
    '@type': 'Organization',
    name: 'Prompts & Skills',
  },
  mainEntityOfPage: {
    '@type': 'WebPage',
    '@id': url,
  },
  keywords: tags.join(', '),
};
---

<!-- JSON-LD Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />

<!-- Open Graph -->
<meta property="og:type" content="article" />
<meta property="og:url" content={url} />
<meta property="og:title" content={pageTitle} />
<meta property="og:description" content={description} />
<meta property="article:published_time" content={isoDate} />
{tags.map((tag) => <meta property="article:tag" content={tag} />)}

<!-- Twitter Card -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content={pageTitle} />
<meta name="twitter:description" content={description} />

<!-- Canonical -->
<link rel="canonical" href={url} />
